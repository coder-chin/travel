# 记一次项目实战经历

> 第一天

1.Git命令：

git add .  放到缓冲区

git commit -m 把缓冲区代码提交到本地仓库中

git push 推到远程仓库

git checkout [branchName] 切换到某分支

git merge origin/index-swiper 将分支合并到主分支



2.如果需要**在style中**引入其他的css 文件，则需要使用@import 'path'

如果要用到@(也就是src),则需要在@前面加~,也就是~@



3.起别名

在`build/webpack.base.config.js`中resolve的alias修改，**修改以后需要重启服务器**



4.开发者工具可以模拟3G网络

netword -> no throtting



5.宽高比一定的时候

两种办法  1.height:0   padding-bottom: 50%  表示占宽度的50%

2.  width:100%  height:50%vw  视口宽度的50%



6.使用axios

import axios from 'axios'

```
methods: {
    getCityInfo() {
      axios.get('/api/city.json')
      .then(this.handleGetCityInfoSucc)
    },
    
    handleGetCityInfoSucc (res) {
      res = res.data
      if(res.ret && res.data){
        const data = res.data
        this.cities = data.cities
        this.hotCities = data.hotCities
      }
    }
 }
```



7.监听器watch

当某个数据改变的时候就会触发

## 一.项目预热

安装node.js -> LTS  长期维护版，稳定

github

安装

安装Vue CLI脚手架，创建项目 vue init webpack my-project

### 项目初始化

1. 修改meta标签，禁止用户通过手指缩放（不报错表明引用正确）

```html
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
```

2. 引入reset.css(重置样式表)   normalize修改程度比较小   reset.css对默认样式破坏性比较多

3. 引入border.css   解决在某些手机上border宽度不一的情况

4. 解决某些手机存在300毫秒延迟问题

   ```
   npm install fastclick --save  //安装
   import fastClick from 'fastclick' //导入
   fastClick.attach(document.body)  //使用
   ```

5. 删除无用代码，提交本地仓库

## 首页开发

### header区域开发

1. 安装stylus（可选）

```
npm install stylus --save
npm install stylus-loader --save
```

2. 创建header组件

3. 安装less(好用)

   ```
   npm install less less-loader --save-dev
   ```

   修改`build/webpack.base.config.js`

   ```javascript
   {
           test: /\.less$/i,
           loader: [
             // compiles Less to CSS
             "style-loader",
             "css-loader",
             "less-loader",
           ],
         }
   ```

   报错是版本原因，要安装低版本

   ```
   npm uninstall less-loader  //安装less-loader
   npm install less-loader@4.1.0  //指定版本
   ```

   

   **如果要在style中**引入其他css文件，需要@import 'path'

   如果需要用到@（也就是src），则需要在@前加~

   ### 首页轮播图开发

   1. 线上建立分支index-swiper
   2. 拉取到本地  git pull
   3. 进入分支  git checkout index-swiper
   4. 安装swiper 
      `npm install vue-awesome-swiper@2.6.7 --save`
      这里使用v2.6.7老版本，可以在GitHub上找到具体使用的代码

## 城市页面开发

### 创建分支city-router

在路由文件router/index.js中配置路由

router-link把内容包裹起来，router-link实质就是a标签。  to="path"表示跳转的路径

a标签优先级高，因为浏览器对a标签有默认样式，所以a标签不会继承父类的样式

头部开发

### 头部搜索框

### 列表布局

分支city-list

最外层容器top,left,right,bottom都为0

overflow:hidden

#### better-scroll

```
npm install better-scroll --save
```

按照固定的结构来书写

用ref来获取DOM

import Bscroll from 'better-scroll'

this.scroll = new Bscroll(this.$refs.wrapper)

页面可以丝滑地滚动

### 页面的动态渲染

分支city-ajax

### 兄弟组件间联动

分支city-components

点击Alphabet组件中的字母，list组件通过事件对象将字母传给父组件city，city再传给list

利用better-scroll的功能自动滚到某个区域中，通过href获取dom



@touchstart

性能优化

节流